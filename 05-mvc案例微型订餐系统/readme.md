## 阶段1 搭建服务器app.js和静态页面

1. 完成了服务器的搭建,和静态文件处理功能
2. 写出了对应的订单服务静态的前端页面index.html
3. index.html通过了ajax进行传输订单的信息到服务器

对ajax中回调函数的理解
**ajax的成功回调函数是与服务器通信的桥梁**
比如当服务器接成功收到你的请求,想要在页面上跳出提示,总不可能让服务器再重写一个页面吧,这样又要刷新页面
所以我们提前设置好前端的ajax成功回调函数里面的操作,这样服务器只要再传递响应数据,
让ajax里的成功回调函数进行对数据的判断就来执行相应的js前端操作,也就间接的完成了服务器对前端页面的改变

## 阶段2处理/all路由请求显示所有订单

1. 建立all.ejs页面,将服务器中data中的手机号渲染到ejs返回给/all路由
   1. fs读取所有data文件夹的文件名(因为文件名就是手机号)
   2. 渲染到all.ejs页面

     

   当时我在想a的href跳转连接怎么拼接上对应的值,要不要在下面写个js,没想到`numArray[i]`直接写在`/all/`后面就可以了,模板引擎真得可以为所欲为,把值写在哪都行 

```html
<% for(let i=0; i<numArray.length; i++){ %>
<li>用户号码为<a href="/all/<%= numArray[i] %>"><%= numArray[i] %></a>已经订餐</li>
<% } %>   
```

## 阶段三处理/all/xx路由请求显示单用户订餐情况

1. 建立one.ejs页面,model中将服务器中data中的数据读取并转换为对象类型通过回调函数给controller,之后controller再将对象写给one.ejs页面上

**注意注意res.render()渲染函数之后不能再有res.send ()否则会报错**